<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>智能机器人聊天室</title>
    <meta name="author"content="cleverqin,705597001@qq.com">
    <meta name="keywords"content="js,html,css,分享,案例">
    <meta name="keywords"content="使用js,html,css搭建的个人站点，在这里与我共同分享知识和快乐">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <link href="../ImChat/css/charRoom.css" rel="stylesheet"/>
    <link href="../static/css/common.css" rel="stylesheet">
    <link rel="stylesheet" href="../ImChat/css/animate.css">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_lp5u2t6dhrggb9.css">
    <link href="../ImChat/css/face1.css" rel="stylesheet"/>

</head>
<body>
<header class="ui-header">
    <div class="site-header">
        <div class="navBox ui-content">
            <div class="logo">
                <a href="../index.html" class="logo-home"></a>
            </div>
            <ul class="navList">
                <li><a href="../index.html">主页</a></li>
                <li><a  href="./musicPlayer.html">音乐</a></li>
                <li><a  href="./Jsonp.html">开放接口</a></li>
                <li><a  href="./vueExp.html">VUE案例</a></li>
                <li><a  href="./Chat.html">聊天室</a></li>
                <li><a  href="../resume/demo.html" target="_blank">关于我</a></li>
            </ul>
        </div>
    </div>
</header>
<section>
    <div class="ui-content player-content-box">
        <audio id="audio" src="../ImChat/img/8400.mp3"></audio>
        <template id="onlineItem">
            <div class="chat_item " :class="channel.id==user.id?'active':''" @click="changeChannel(user)">
                <div class="avatar">
                    <img class="img" :src="user.pic"  alt="">
                </div>
                <div class="info">
                    <h3 class="nickname">
                        <span class="nickname_text" v-text="user.nickName"></span>
                        <span style="display: none">{{time}}</span>
                    </h3>
                    <div class="least-msg" v-html="getLastMsg()"></div>
                </div>
            </div>
        </template>
        <template id="msgTpl">
            <li class="user-msg" v-if="msg.type==='user'">
                <div class="msg-box">
                    <div class="msg-box-img">
                        <img v-bind:src="msg.content.user.pic" class="user-img">
                        <div class="msg-tag-txt">{{msg.content.user.nickName}}<span class="msg-time">{{msg.time|ago}}</span></div>
                    </div>
                    <div class="msg-txt-box">
                        <div class="msg-txt-content"><span class="msg-arrow"></span><div v-html="msg.content.msg"></div></div>
                    </div>
                </div>
            </li>
            <li class="me-msg" v-else-if="msg.type==='send'" >
                <div class="msg-box">
                    <div class="msg-box-img">
                        <img v-bind:src="msg.content.user.pic" class="user-img">
                        <div class="msg-tag-txt"><span class="msg-time">{{msg.time|ago}}</span>{{msg.content.user.nickName}}</div>
                    </div>
                    <div class="msg-txt-box">
                        <div class="msg-txt-content"><span class="msg-arrow"></span><div v-html="msg.content.msg"></div></div>
                    </div>
                </div>
            </li>
            <li class="sys-msg" v-else="msg.type==='sys'">
                <div class="msg-box"><span v-html="msg.content.msg"></span><span class="msg-time">{{msg.time|ago}}</span></div>
            </li>
        </template>
        <template id="myAlter">
            <transition name='custom-classes-transition' enter-active-class="animated fadeIn"
                        leave-active-class="animated fadeOut">
                <div class="alter-panel" v-show="show">
                    <div class="alter-mask" @click="hideAlter"></div>
                    <transition name='custom-classes-transition' enter-active-class="animated fadeInLeft"
                                leave-active-class="animated fadeOutLeft">
                        <div class="alter-content scroll" v-show="show">
                            <div class="search-panel search-weather" v-show="type=='weather'">
                                <div class="search-title">天气查询</div>
                                <div class="form-group">
                                    <input input="text" class="form-element" placeholder="请输入城市名称" v-model="city">
                                    <button type="button" class="form-btn" @click="searchWeather">查询</button>
                                </div>
                                <pre class="json-renderer"></pre>
                            </div>
                            <div class="search-panel search-express" v-show="type=='express'">
                                <div class="search-title">快递查询</div>
                                <div class="form-group">
                                    <select  class="form-element" v-model="com">
                                        <option value="圆通">圆通</option>
                                        <option value="顺丰">顺丰</option>
                                        <option value="申通">申通</option>
                                        <option value="中通">中通</option>
                                        <option value="韵达">韵达</option>
                                        <option value="天天">天天</option>
                                    </select>
                                    <input input="text" class="form-element" placeholder="请输入快递单号" v-model="code">
                                    <button type="button" class="form-btn" @click="searchExpress">查询</button>
                                </div>
                                <pre class="json-renderer"></pre>
                            </div>
                            <div class="search-panel search-train" v-show="type=='train'">
                                <div class="search-title">列车查询</div>
                                <div class="form-group">
                                    <input input="text" class="form-element" placeholder="请输入列车车次" v-model="train">
                                    <button type="button" class="form-btn" @click="searchTrain">查询</button>
                                </div>
                                <pre class="json-renderer"></pre>
                            </div>
                        </div>
                    </transition>
                </div>
            </transition>
        </template>
        <div class="chat-box" id="chatBox">
            <div class="panel-left">
                <div class="header-top">
                    <div class="avatar">
                        <img class="img" src="http://q.qlogo.cn/headimg_dl?dst_uin=705597001&spec=100" :src="curUser.pic">
                    </div>
                    <div class="info">
                        <h3 class="nickname">
                            <span class="display_name ng-binding" v-text="curUser.nickName">似水流年</span>
                            <a class="opt tool-menu" href="javascript:;" @click.stop="showMenu=!showMenu"><i class="web_wechat_add"></i></a>
                            <transition name='custom-classes-transition' enter-active-class="animate scaleFadeIn"
                                        leave-active-class="animate scaleFadeOut">
                                <div class="drop-box" v-show="showMenu" style="display: none">
                                    <ul class="dropdown_menu">
                                        <li @click="type='weather'">
                                            <a  href="javascript:;"  title="天气查询" @click="show=true" >
                                                <i class="menuicon_chat iconfont icon-icon53"></i>天气查询
                                            </a>
                                        </li>
                                        <li @click="type='express'">
                                            <a  href="javascript:;"  title="快递查询" @click="show=true" >
                                                <i class="menuicon_chat iconfont icon-kuaidi"></i>快递查询
                                            </a>
                                        </li>
                                        <li @click="type='train'">
                                            <a  href="javascript:;"  title="列车查询" @click="show=true">
                                                <i class="menuicon_chat iconfont icon-train"></i>列车查询
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </transition>
                        </h3>
                    </div>
                </div>
                <div class="search-bar">
                    <i class="web_wechat_search"></i>
                    <input type="text" class="searh-input" placeholder="搜索" v-model="keywords">
                </div>
                <div class="nav-view scroll">
                    <online-item :user="item" :channel="channel" :time="time" v-for="item in filterName()"></online-item>
                </div>
            </div>
            <div class="panel-right">
                <div class="top-title">
                    <div class="title-box" v-text="channel.nickName"></div>
                </div>
                <div class="msg-wrapper">
                    <div class="msg-content scroll" ref="list">
                        <ul class="chat-msg-list">
                            <template v-for="item in msgList">
                                <msg-item :msg="item" ></msg-item>
                            </template>
                        </ul>
                    </div>
                </div>
                <div class="box-footer">
                    <div class="tool-bar">
                        <a class="web_wechat_face" href="javascript:void (0)" title="表情"></a>
                    </div>
                    <div class="msg-send-box">
                        <div class="text-area" >
                            <textarea class="send-msg-input scroll" v-model="txt" @keyup.enter="sendMsg"></textarea>
                        </div>
                    </div>
                    <div class="send-btn-box">
                        <a class="btn btn_send" href="javascript:;" @click="sendMsg">发送</a>
                    </div>
                </div>
            </div>
            <ui-alter :show="show" :type="type"></ui-alter>
        </div>
    </div>
</section>
<footer class="ui-footer">
    <div class="ui-content">
        <ul class="coBox">
            <li>
                <div class="contactMeBox">
                    <p class="title">联系我</p>
                    <p class="tag">邮箱:<a href="#">705597001@qq.com</a></p>
                    <p class="tag">手机:<a href="#">15238****27</a></p>
                </div>
            </li>
            <li>
                <div class="myWeChatBox"><img src="https://git.oschina.net/cleverqin/img/raw/master/mmqrcode.png"/><img src="https://git.oschina.net/cleverqin/img/raw/master/myAliPay.png"/></div>
            </li>
        </ul>
        <div class="bottomBox">备注：本网站所有权归创作者所有，如有疑问请联系作者。</div>
    </div>
</footer>
<script src="../static/js/vue.min.2.2.0.js" type="text/javascript"></script>
<script src="https://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
<script src="../ImChat/js/face.js" type="text/javascript"></script>
<script src="../ImChat/js/jquery.json-viewer.js"></script>
<script src="../static/js/demo2.js"></script>
</body>
</html>